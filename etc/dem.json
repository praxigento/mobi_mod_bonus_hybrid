{
  "dBEAR": {
    "package": {
      "Praxigento": {
        "alias": "prxgt",
        "comment": "Root namespace for Praxigento modules",
        "package": {
          "Bonus": {
            "alias": "bon",
            "comment": "Bonus related structures",
            "package": {
              "Hybrid": {
                "alias": "hyb",
                "comment": "Hybrid bonus related structures",
                "package": {
                  "Compression": {
                    "alias": "cmprs",
                    "comment": "Compressed downline trees with additional calculation data.",
                    "package": {
                      "Phase1": {
                        "alias": "ph1",
                        "comment": "Phase I compression related data.",
                        "package": {
                          "Transfer": {
                            "alias": "trn",
                            "comment": "Phase I compression transfers.",
                            "entity": {
                              "Pv": {
                                "alias": "pv",
                                "comment": "PV transfers between customers during phase I compression.",
                                "attribute": {
                                  "CalculationRef": {
                                    "alias": "calc_ref",
                                    "comment": "Reference to the related calculation (type 'HYBRID_COMPRESS_FOR_PTC' is expected).",
                                    "nullable": false,
                                    "type": {
                                      "integer": {
                                        "unsigned": true
                                      }
                                    }
                                  },
                                  "CustomerFromRef": {
                                    "alias": "cust_from_ref",
                                    "comment": "Reference to the customer who send PV to the ancestor.",
                                    "nullable": false,
                                    "type": {
                                      "integer": {
                                        "unsigned": true
                                      }
                                    }
                                  },
                                  "CustomerToRef": {
                                    "alias": "cust_to_ref",
                                    "comment": "Reference to the customer who receive PV from the descendant.",
                                    "nullable": false,
                                    "type": {
                                      "integer": {
                                        "unsigned": true
                                      }
                                    }
                                  },
                                  "PersonalVolumes": {
                                    "alias": "pv",
                                    "comment": "PV value been transferred from descendant to the ancestor.",
                                    "nullable": false,
                                    "type": {
                                      "numeric": {
                                        "precision": 12,
                                        "scale": 4
                                      }
                                    }
                                  }
                                },
                                "index": {
                                  "primary": {
                                    "type": "primary",
                                    "aliases": [
                                      "calc_ref",
                                      "cust_from_ref",
                                      "cust_to_ref"
                                    ]
                                  }
                                },
                                "relation": {
                                  "toCalculation": {
                                    "own": {
                                      "aliases": [
                                        "calc_ref"
                                      ]
                                    },
                                    "reference": {
                                      "entity": {
                                        "completeAlias": "prxgt_bon_base_calc"
                                      },
                                      "aliases": [
                                        "id"
                                      ]
                                    },
                                    "action": {
                                      "delete": "restrict",
                                      "update": "restrict"
                                    }
                                  },
                                  "toDownlineCustomerAsFrom": {
                                    "own": {
                                      "aliases": [
                                        "cust_from_ref"
                                      ]
                                    },
                                    "reference": {
                                      "entity": {
                                        "completeAlias": "prxgt_dwnl_customer"
                                      },
                                      "aliases": [
                                        "customer_ref"
                                      ]
                                    },
                                    "action": {
                                      "delete": "restrict",
                                      "update": "restrict"
                                    }
                                  },
                                  "toDownlineCustomerAsTo": {
                                    "own": {
                                      "aliases": [
                                        "cust_to_ref"
                                      ]
                                    },
                                    "reference": {
                                      "entity": {
                                        "completeAlias": "prxgt_dwnl_customer"
                                      },
                                      "aliases": [
                                        "customer_ref"
                                      ]
                                    },
                                    "action": {
                                      "delete": "restrict",
                                      "update": "restrict"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "Phase2": {
                        "alias": "ph2",
                        "comment": "Phase II compression related data.",
                        "entity": {
                          "Legs": {
                            "alias": "legs",
                            "comment": "OV by legs for compressed tree",
                            "attribute": {
                              "CalcRef": {
                                "alias": "calc_ref",
                                "comment": "Reference to the related calculation.",
                                "nullable": false,
                                "type": {
                                  "integer": {
                                    "unsigned": true
                                  }
                                }
                              },
                              "CustRef": {
                                "alias": "cust_ref",
                                "comment": "Reference to the customer itself.",
                                "nullable": false,
                                "type": {
                                  "integer": {
                                    "unsigned": true
                                  }
                                }
                              },
                              "LegMax": {
                                "alias": "leg_max",
                                "comment": "OV value for the leg with maximal amount.",
                                "nullable": false,
                                "type": {
                                  "numeric": {
                                    "precision": 12,
                                    "scale": 4
                                  }
                                }
                              },
                              "LegSecond": {
                                "alias": "leg_second",
                                "comment": "OV value for second leg of the customer.",
                                "nullable": false,
                                "type": {
                                  "numeric": {
                                    "precision": 12,
                                    "scale": 4
                                  }
                                }
                              },
                              "LegOthers": {
                                "alias": "leg_others",
                                "comment": "OV value for the lest legs (summary for all other legs).",
                                "nullable": false,
                                "type": {
                                  "numeric": {
                                    "precision": 12,
                                    "scale": 4
                                  }
                                }
                              },
                              "CustMaxRef": {
                                "alias": "cust_max_ref",
                                "comment": "Reference to the customer related to the Max leg.",
                                "nullable": true,
                                "type": {
                                  "integer": {
                                    "unsigned": true
                                  }
                                }
                              },
                              "CustSecondRef": {
                                "alias": "cust_second_ref",
                                "comment": "Reference to the customer related to the Second leg.",
                                "nullable": true,
                                "type": {
                                  "integer": {
                                    "unsigned": true
                                  }
                                }
                              },
                              "PvQualMax": {
                                "alias": "pv_qual_max",
                                "comment": "Qualified PV volume from Max leg (according to customer rank).",
                                "nullable": false,
                                "type": {
                                  "numeric": {
                                    "precision": 12,
                                    "scale": 4
                                  }
                                }
                              },
                              "PvQualSecond": {
                                "alias": "pv_qual_second",
                                "comment": "Qualified PV volume from Second leg (according to customer rank).",
                                "nullable": false,
                                "default": 0,
                                "type": {
                                  "numeric": {
                                    "precision": 12,
                                    "scale": 4
                                  }
                                }
                              },
                              "PvQualOther": {
                                "alias": "pv_qual_other",
                                "comment": "Qualified PV volume from other legs (according to customer rank).",
                                "nullable": false,
                                "default": 0,
                                "type": {
                                  "numeric": {
                                    "precision": 12,
                                    "scale": 4
                                  }
                                }
                              }
                            },
                            "index": {
                              "primary": {
                                "type": "primary",
                                "aliases": [
                                  "calc_ref",
                                  "cust_ref"
                                ]
                              }
                            },
                            "relation": {
                              "toCalculation": {
                                "own": {
                                  "aliases": [
                                    "calc_ref"
                                  ]
                                },
                                "reference": {
                                  "entity": {
                                    "completeAlias": "prxgt_bon_base_calc"
                                  },
                                  "aliases": [
                                    "id"
                                  ]
                                },
                                "action": {
                                  "delete": "restrict",
                                  "update": "restrict"
                                }
                              },
                              "toDownlineCustomer": {
                                "own": {
                                  "aliases": [
                                    "cust_ref"
                                  ]
                                },
                                "reference": {
                                  "entity": {
                                    "completeAlias": "prxgt_dwnl_customer"
                                  },
                                  "aliases": [
                                    "customer_ref"
                                  ]
                                },
                                "action": {
                                  "delete": "restrict",
                                  "update": "restrict"
                                }
                              },
                              "toHybDwnlAsCustMax": {
                                "own": {
                                  "aliases": [
                                    "cust_max_ref"
                                  ]
                                },
                                "reference": {
                                  "entity": {
                                    "completeAlias": "prxgt_dwnl_customer"
                                  },
                                  "aliases": [
                                    "customer_ref"
                                  ]
                                },
                                "action": {
                                  "delete": "restrict",
                                  "update": "restrict"
                                }
                              },
                              "toHybDwnlAsCustSecond": {
                                "own": {
                                  "aliases": [
                                    "cust_second_ref"
                                  ]
                                },
                                "reference": {
                                  "entity": {
                                    "completeAlias": "prxgt_dwnl_customer"
                                  },
                                  "aliases": [
                                    "customer_ref"
                                  ]
                                },
                                "action": {
                                  "delete": "restrict",
                                  "update": "restrict"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "Config": {
                    "alias": "cfg",
                    "comment": "Configuration parameters for calculations.",
                    "entity": {
                      "Override": {
                        "alias": "override",
                        "comment": "Configuration parameters for override bonus by rank and scheme.",
                        "attribute": {
                          "RankId": {
                            "alias": "rank_id",
                            "comment": "Reference to the rank.",
                            "nullable": false,
                            "type": {
                              "integer": {
                                "unsigned": true
                              }
                            }
                          },
                          "SchemeCode": {
                            "alias": "scheme",
                            "comment": "Scheme code (DEFAULT or EU).",
                            "nullable": false,
                            "type": {
                              "text": {
                                "length": 8
                              }
                            }
                          },
                          "Generation": {
                            "alias": "generation",
                            "comment": "# of the generation in the compressed tree.",
                            "nullable": false,
                            "default": 0,
                            "type": {
                              "integer": {
                                "unsigned": true
                              }
                            }
                          },
                          "Percent": {
                            "alias": "percent",
                            "comment": "Percent to apply to calculate override bonus.",
                            "nullable": false,
                            "default": 0,
                            "type": {
                              "numeric": {
                                "precision": 12,
                                "scale": 4
                              }
                            }
                          }
                        },
                        "index": {
                          "primary": {
                            "type": "primary",
                            "aliases": [
                              "rank_id",
                              "scheme",
                              "generation"
                            ]
                          }
                        },
                        "relation": {
                          "toRank": {
                            "own": {
                              "aliases": [
                                "rank_id"
                              ]
                            },
                            "reference": {
                              "entity": {
                                "completeAlias": "prxgt_bon_base_rank"
                              },
                              "aliases": [
                                "id"
                              ]
                            },
                            "action": {
                              "delete": "restrict",
                              "update": "restrict"
                            }
                          }
                        }
                      },
                      "Parameter": {
                        "alias": "param",
                        "comment": "Common configuration parameters by rank and scheme.",
                        "attribute": {
                          "RankId": {
                            "alias": "rank_id",
                            "comment": "Reference to the rank.",
                            "nullable": false,
                            "type": {
                              "integer": {
                                "unsigned": true
                              }
                            }
                          },
                          "Scheme": {
                            "alias": "scheme",
                            "comment": "Scheme code (DEFAULT or EU).",
                            "nullable": false,
                            "type": {
                              "text": {
                                "length": 8
                              }
                            }
                          },
                          "QualifyPv": {
                            "alias": "qualify_pv",
                            "comment": "PV volume to be a qualified customer.",
                            "nullable": false,
                            "default": 0,
                            "type": {
                              "numeric": {
                                "precision": 12,
                                "scale": 4
                              }
                            }
                          },
                          "QualifyTv": {
                            "alias": "qualify_tv",
                            "comment": "TV volume to be a qualified customer.",
                            "nullable": false,
                            "default": 0,
                            "type": {
                              "numeric": {
                                "precision": 12,
                                "scale": 4
                              }
                            }
                          },
                          "LegMin": {
                            "alias": "leg_min",
                            "comment": "Qualification volume for the smallest leg.",
                            "nullable": false,
                            "default": 0,
                            "type": {
                              "numeric": {
                                "precision": 12,
                                "scale": 4
                              }
                            }
                          },
                          "LegMedium": {
                            "alias": "leg_medium",
                            "comment": "Qualification volume for the medium leg.",
                            "nullable": false,
                            "default": 0,
                            "type": {
                              "numeric": {
                                "precision": 12,
                                "scale": 4
                              }
                            }
                          },
                          "LegMax": {
                            "alias": "leg_max",
                            "comment": "Qualification volume for the largest leg.",
                            "nullable": false,
                            "default": 0,
                            "type": {
                              "numeric": {
                                "precision": 12,
                                "scale": 4
                              }
                            }
                          },
                          "Infinity": {
                            "alias": "infinity",
                            "comment": "Infinity Bonus percent.",
                            "nullable": false,
                            "default": 0,
                            "type": {
                              "numeric": {
                                "precision": 12,
                                "scale": 4
                              }
                            }
                          }
                        },
                        "index": {
                          "primary": {
                            "type": "primary",
                            "aliases": [
                              "rank_id",
                              "scheme"
                            ]
                          }
                        },
                        "relation": {
                          "toRank": {
                            "own": {
                              "aliases": [
                                "rank_id"
                              ]
                            },
                            "reference": {
                              "entity": {
                                "completeAlias": "prxgt_bon_base_rank"
                              },
                              "aliases": [
                                "id"
                              ]
                            },
                            "action": {
                              "delete": "restrict",
                              "update": "restrict"
                            }
                          }
                        }
                      }
                    }
                  },
                  "Downline": {
                    "alias": "dwnl",
                    "comment": "Downline trees related data",
                    "entity": {
                      "Inactive": {
                        "alias": "inact",
                        "comment": "Customer's inactivity data.",
                        "attribute": {
                          "TreeEntryRef": {
                            "alias": "tree_entry_ref",
                            "comment": "Reference to the entry in downline tree.",
                            "nullable": false,
                            "type": {
                              "integer": {
                                "unsigned": true
                              }
                            }
                          },
                          "InactiveMonths": {
                            "alias": "inact_months",
                            "comment": "Number of the last sequentially inactive months (w/o PV at all).",
                            "nullable": false,
                            "type": {
                              "integer": {
                                "unsigned": true
                              }
                            }
                          }
                        },
                        "index": {
                          "primary": {
                            "type": "primary",
                            "aliases": [
                              "tree_entry_ref"
                            ]
                          }
                        },
                        "relation": {
                          "toTreeEntry": {
                            "own": {
                              "aliases": [
                                "tree_entry_ref"
                              ]
                            },
                            "reference": {
                              "entity": {
                                "completeAlias": "prxgt_bon_hyb_dwnl"
                              },
                              "aliases": [
                                "id"
                              ]
                            },
                            "action": {
                              "delete": "restrict",
                              "update": "restrict"
                            }
                          }
                        }
                      },
                      "Qualification": {
                        "alias": "qual",
                        "comment": "Qualification data (ranks, etc.).",
                        "attribute": {
                          "TreeEntryRef": {
                            "alias": "tree_entry_ref",
                            "comment": "Reference to the entry in downline tree.",
                            "nullable": false,
                            "type": {
                              "integer": {
                                "unsigned": true
                              }
                            }
                          },
                          "RankRef": {
                            "alias": "rank_ref",
                            "comment": "Reference to qualification rank ID.",
                            "nullable": false,
                            "type": {
                              "integer": {
                                "unsigned": true
                              }
                            }
                          }
                        },
                        "index": {
                          "primary": {
                            "type": "primary",
                            "aliases": [
                              "tree_entry_ref"
                            ]
                          }
                        },
                        "relation": {
                          "toTreeEntry": {
                            "own": {
                              "aliases": [
                                "tree_entry_ref"
                              ]
                            },
                            "reference": {
                              "entity": {
                                "completeAlias": "prxgt_bon_hyb_dwnl"
                              },
                              "aliases": [
                                "id"
                              ]
                            },
                            "action": {
                              "delete": "restrict",
                              "update": "restrict"
                            }
                          },
                          "toBonusRank": {
                            "own": {
                              "aliases": [
                                "rank_ref"
                              ]
                            },
                            "reference": {
                              "entity": {
                                "completeAlias": "prxgt_bon_base_rank"
                              },
                              "aliases": [
                                "id"
                              ]
                            },
                            "action": {
                              "delete": "restrict",
                              "update": "restrict"
                            }
                          }
                        }
                      }
                    }
                  },
                  "Registry": {
                    "alias": "reg",
                    "comment": "Registry for additional data.",
                    "entity": {
                      "SignUpVolumeDebit": {
                        "alias": "signup",
                        "comment": "Registry for Sign Up Volume Debit calc.",
                        "attribute": {
                          "CalculationRef": {
                            "alias": "calc_ref",
                            "comment": "Reference to the related calculation (type 'HYBRID_SIGN_UP_DEBIT' is expected).",
                            "nullable": false,
                            "type": {
                              "integer": {
                                "unsigned": true
                              }
                            }
                          },
                          "CustomerRef": {
                            "alias": "cust_ref",
                            "comment": "Reference to the customer for whom debit was applied.",
                            "nullable": false,
                            "type": {
                              "integer": {
                                "unsigned": true
                              }
                            }
                          },
                          "SaleRef": {
                            "alias": "sale_ref",
                            "comment": "Reference to the sale order for which bonus was applied.",
                            "nullable": false,
                            "type": {
                              "integer": {
                                "unsigned": true
                              }
                            }
                          }
                        },
                        "index": {
                          "primary": {
                            "type": "primary",
                            "aliases": [
                              "calc_ref",
                              "cust_ref"
                            ]
                          }
                        },
                        "relation": {
                          "toCalculation": {
                            "own": {
                              "aliases": [
                                "calc_ref"
                              ]
                            },
                            "reference": {
                              "entity": {
                                "completeAlias": "prxgt_bon_base_calc"
                              },
                              "aliases": [
                                "id"
                              ]
                            },
                            "action": {
                              "delete": "cascade",
                              "update": "restrict"
                            }
                          },
                          "toCustomer": {
                            "own": {
                              "aliases": [
                                "cust_ref"
                              ]
                            },
                            "reference": {
                              "entity": {
                                "completeAlias": "prxgt_dwnl_customer"
                              },
                              "aliases": [
                                "customer_ref"
                              ]
                            },
                            "action": {
                              "delete": "cascade",
                              "update": "restrict"
                            }
                          },
                          "toSaleOrder": {
                            "own": {
                              "aliases": [
                                "sale_ref"
                              ]
                            },
                            "reference": {
                              "entity": {
                                "completeAlias": "sales_order"
                              },
                              "aliases": [
                                "entity_id"
                              ]
                            },
                            "action": {
                              "delete": "cascade",
                              "update": "restrict"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "entity": {
                  "Downline": {
                    "alias": "dwnl",
                    "comment": "Downline tree data (plain/compressed & retro/actual).",
                    "attribute": {
                      "Id": {
                        "alias": "id",
                        "comment": "Instance ID.",
                        "nullable": false,
                        "type": {
                          "integer": {
                            "unsigned": true,
                            "autoincrement": true
                          }
                        }
                      },
                      "CalculationRef": {
                        "alias": "calc_ref",
                        "comment": "Reference to the related calculation.",
                        "nullable": false,
                        "type": {
                          "integer": {
                            "unsigned": true
                          }
                        }
                      },
                      "CustomerRef": {
                        "alias": "cust_ref",
                        "comment": "Reference to the customer itself.",
                        "nullable": false,
                        "type": {
                          "integer": {
                            "unsigned": true
                          }
                        }
                      },
                      "ParentId": {
                        "alias": "parent_ref",
                        "comment": "Reference to the customer's parent.",
                        "nullable": false,
                        "type": {
                          "integer": {
                            "unsigned": true
                          }
                        }
                      },
                      "Depth": {
                        "alias": "depth",
                        "comment": "Depth of the node in the tree.",
                        "nullable": false,
                        "default": 0,
                        "type": {
                          "integer": {
                            "unsigned": true
                          }
                        }
                      },
                      "Path": {
                        "alias": "path",
                        "comment": "Path to the node - :1:2:3:...:",
                        "nullable": false,
                        "type": {
                          "text": {
                            "length": 255
                          }
                        }
                      },
                      "PersonalVolumes": {
                        "alias": "pv",
                        "comment": "PV value for the customer (own or compressed).",
                        "nullable": false,
                        "type": {
                          "numeric": {
                            "precision": 12,
                            "scale": 4
                          }
                        }
                      },
                      "TeamVolumes": {
                        "alias": "tv",
                        "comment": "TV value for the customer.",
                        "nullable": false,
                        "type": {
                          "numeric": {
                            "precision": 12,
                            "scale": 4
                          }
                        }
                      },
                      "OrganizationalVolumes": {
                        "alias": "ov",
                        "comment": "OV value for the customer.",
                        "nullable": false,
                        "type": {
                          "numeric": {
                            "precision": 12,
                            "scale": 4
                          }
                        }
                      },
                      "RankRef": {
                        "alias": "rank_ref",
                        "comment": "Reference to qualification rank ID.",
                        "nullable": false,
                        "type": {
                          "integer": {
                            "unsigned": true
                          }
                        }
                      },
                      "UnqualifiedMonths": {
                        "alias": "unq_months",
                        "comment": "Number of the last sequentially unqualified months.",
                        "nullable": false,
                        "type": {
                          "integer": {
                            "unsigned": true
                          }
                        }
                      }
                    },
                    "index": {
                      "primary": {
                        "type": "primary",
                        "aliases": [
                          "id"
                        ]
                      },
                      "unique": {
                        "type": "unique",
                        "aliases": [
                          "calc_ref",
                          "cust_ref"
                        ]
                      }
                    },
                    "relation": {
                      "toCalculation": {
                        "own": {
                          "aliases": [
                            "calc_ref"
                          ]
                        },
                        "reference": {
                          "entity": {
                            "completeAlias": "prxgt_bon_base_calc"
                          },
                          "aliases": [
                            "id"
                          ]
                        },
                        "action": {
                          "delete": "restrict",
                          "update": "restrict"
                        }
                      },
                      "toDownlineCustomer": {
                        "own": {
                          "aliases": [
                            "cust_ref"
                          ]
                        },
                        "reference": {
                          "entity": {
                            "completeAlias": "prxgt_dwnl_customer"
                          },
                          "aliases": [
                            "customer_ref"
                          ]
                        },
                        "action": {
                          "delete": "restrict",
                          "update": "restrict"
                        }
                      },
                      "toDownlineCustomerAsParent": {
                        "own": {
                          "aliases": [
                            "parent_ref"
                          ]
                        },
                        "reference": {
                          "entity": {
                            "completeAlias": "prxgt_dwnl_customer"
                          },
                          "aliases": [
                            "customer_ref"
                          ]
                        },
                        "action": {
                          "delete": "restrict",
                          "update": "restrict"
                        }
                      },
                      "toBonusRank": {
                        "own": {
                          "aliases": [
                            "rank_ref"
                          ]
                        },
                        "reference": {
                          "entity": {
                            "completeAlias": "prxgt_bon_base_rank"
                          },
                          "aliases": [
                            "id"
                          ]
                        },
                        "action": {
                          "delete": "restrict",
                          "update": "restrict"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}